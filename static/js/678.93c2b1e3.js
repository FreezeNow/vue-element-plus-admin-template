"use strict";(self["webpackChunkelement_plus_admin_template"]=self["webpackChunkelement_plus_admin_template"]||[]).push([[678],{7678:function(e,s,o){o.r(s),o.d(s,{default:function(){return f}});var a=o(6252),r=o(9963);const n=e=>((0,a.dD)("data-v-7c119a0a"),e=e(),(0,a.Cn)(),e),t={class:"login-container"},i=n((()=>(0,a._)("div",{class:"title-container"},[(0,a._)("h3",{class:"title"},"Login Form")],-1))),l={class:"svg-container"},d={class:"svg-container"},p=(0,a.Uk)("Login"),u=n((()=>(0,a._)("div",{class:"tips"},[(0,a._)("span",{style:{"margin-right":"20px"}},"username: admin"),(0,a._)("span",null," password: any")],-1)));function c(e,s,o,n,c,m){const w=(0,a.up)("svg-icon"),g=(0,a.up)("el-input"),h=(0,a.up)("el-form-item"),f=(0,a.up)("el-button"),v=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",t,[(0,a.Wm)(v,{ref:"loginForm",model:c.loginForm,rules:c.loginRules,class:"login-form","auto-complete":"on","label-position":"left"},{default:(0,a.w5)((()=>[i,(0,a.Wm)(h,{prop:"username"},{default:(0,a.w5)((()=>[(0,a._)("span",l,[(0,a.Wm)(w,{"icon-class":"user"})]),(0,a.Wm)(g,{ref:"username",value:c.loginForm.username,"onUpdate:value":s[0]||(s[0]=e=>c.loginForm.username=e),placeholder:"Username",name:"username",type:"text",tabindex:"1","auto-complete":"on"},null,8,["value"])])),_:1}),(0,a.Wm)(h,{prop:"password"},{default:(0,a.w5)((()=>[(0,a._)("span",d,[(0,a.Wm)(w,{"icon-class":"password"})]),((0,a.wg)(),(0,a.j4)(g,{key:c.passwordType,ref:"password",value:c.loginForm.password,"onUpdate:value":s[1]||(s[1]=e=>c.loginForm.password=e),type:c.passwordType,placeholder:"Password",name:"password",tabindex:"2","auto-complete":"on",onKeyup:(0,r.D2)(m.handleLogin,["enter"])},null,8,["value","type","onKeyup"])),(0,a._)("span",{class:"show-pwd",onClick:s[2]||(s[2]=(...e)=>m.showPwd&&m.showPwd(...e))},[(0,a.Wm)(w,{"icon-class":"password"===c.passwordType?"eye":"eye-open"},null,8,["icon-class"])])])),_:1}),(0,a.Wm)(f,{loading:c.loading,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:(0,r.iM)(m.handleLogin,["prevent"])},{default:(0,a.w5)((()=>[p])),_:1},8,["loading","onClick"]),u])),_:1},8,["model","rules"])])}o(1703);var m=o(9176),w={name:"Login",data(){const e=(e,s,o)=>{(0,m.C)(s)?o():o(new Error("Please enter the correct user name"))},s=(e,s,o)=>{s.length<6?o(new Error("The password can not be less than 6 digits")):o()};return{loginForm:{username:"admin",password:"111111"},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:s}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{deep:!0,handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd(){"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((()=>{this.$refs.password.focus()}))},handleLogin(){this.$refs.loginForm.validate((e=>{if(!e)return console.log("error submit!!"),!1;this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then((()=>{this.$router.push({path:this.redirect||"/"}),this.loading=!1})).catch((()=>{this.loading=!1}))}))}}},g=o(3744);const h=(0,g.Z)(w,[["render",c],["__scopeId","data-v-7c119a0a"]]);var f=h}}]);